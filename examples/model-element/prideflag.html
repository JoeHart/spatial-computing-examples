<html>
  <head>
    <title>Model Element Example</title>
  </head>
  <body>
    <h1>Model Element</h1>
    <h2>Interactive Model Element</h2>
    <model
      interactive
      width="150px"
      src="/assets/prideflaganimated.usdz"
    ></model>
  </body>
  <script>
    const main = async () => {
      // Get Model
      let model = document.querySelector("model");
      await model.ready;

      // Set Camera
      let camera = await model.getCamera();
      camera.scale = 3;
      camera.pitch = 3;
      await model.setCamera(camera);

      // Check if user has reduce motion enabled
      const isReduced =
        window.matchMedia(`(prefers-reduced-motion: reduce)`) === true ||
        window.matchMedia(`(prefers-reduced-motion: reduce)`).matches === true;

      // Set Animation
      if (!isReduced) {
        model.setIsLoopingAnimation(true);
        model.playAnimation();
      }
    };
    main();
  </script>
</html>
